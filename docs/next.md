# Улучшения 

## [x] Улучшения
+ сортировка уроков
  - по дате создания
  - по названию
+ считать длительность аудио в уроке и показывать
+ мобильная верстка
  + правило брейкпоинтов: переключение mobile/desktop делать на `md`
  + breadcrumbs с переносом и левым сдвигом со второй строки (без разрыва svg + label)
  + названия сдвинуть
  + правая колонка - меню
    + для проекта: единый блок действий (desktop: всегда виден справа, mobile: dropdown по кнопке)
    + для прогона: mobile dropdown списка шагов между заголовком и контентом (desktop без изменений)
+ главная
  + заголовки блоков "Свежие проекты" и "Очередь обработки": `mx-2` на mobile, `md:mx-6` на desktop
  + виджет очереди без фона; карточки задач и пустого состояния в фоне блока "Свежие проекты"
  + блок "Свежие проекты" без фона и padding; карточки как на странице проектов, 6 последних проектов в 2 колонки

## [ ] Новые улучшения

- Хорошо бы сделать редактирование результатов шага
  - Их нужно где-то хранить, чтобы изначальный результат оставался неизменным
  - Желательно, чтобы редактор был легким и не тормозил на больших текстах
  - Важна совместимость редактора с livewire
  - Писать в лог событие редактирования
- Считать длительность проекта целиком
  - Кнопка для пересчета длительности в проекте
- Переименовать пайплайны в что-то понятное
+ Для шага с ошибкой показывать ошибку в поле результата

## [x] Пользователи и админы

+ Пользователи не видят пайплайны в меню
+ В прогоне упростить отображение шагов пользователям
  + Добавить вначале «Шаг N»
  + Между шагами добавить стрелочки
  + Убрать бейджи токенов и цены
+ В пайплайне отмечать шаг по умолчанию галочкой без смены версии. И на него переключаться при открытии прогона.

## [x] Управление пользователями

3 уровня доступа:
- пользователь: только проекты
- админ: проекты + пайплайны + пользователи
- суперадмин: невидимый

Суперадмину генерим токен командой. Остальным он раздает инвайты.

Админка простая, как с проектами:
- Кнопка добавить пользователя
- Карточки пользователей с удалялкой
  - Суперадмина не видно
- При клике на карточку модал:
  - Имя
  - Емейл
  - Кнопка «Обновить токен»
  - Ссылка с инвайтом и кнопкой копирования

## [x] Логи действий пользователя

- [x] Проекты: создание, редактирование, удаление
- [x] Уроки: добавление, редактирование, удаление
- [x] Прогоны: добавление, удаление

## [x] Страница активности
- [x] Пункт меню `Активность` только для админов
- [x] История действий из `activity_log`
- [x] Формат строки: дата/время, пользователь, действие, тип объекта, название объекта
- [x] Пагинация 20 строк на страницу
- [x] Для прогонов название в списке: `Урок — Пайплайн • vN`
- [x] Для уроков название в списке: `Урок в проекте «Проект»`

## [x] Soft delete
- [x] Проекты
- [x] Уроки
- [x] Прогоны
- [x] Пользователи
