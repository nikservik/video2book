# Улучшения

## [ ] Редактирование шагов

- Над контентом справа вверху блок кнопок иконками:
  - в режиме просмотра: 
    - синяя кнопка с иконкой «Редактировать»:
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
        </svg>
  - в режиме редактирования
    - серая кнопка с иконкой «Назад»:
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
        </svg>
    - синяя кнопка с иконкой «Сохранить»:
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
        </svg>
    
- При переключении в режим редактирования включаем панель редактора над текстом. Она должна быть в режиме sticky.

- В шаг прогона добавляем поле `original`
- При первом сохранении изменений текста копируем изначальный `result` в `original`. После этого сохраняем правки в `result`.
- При любом сохранении правок пишем в лог: {пользователь} изменил текст в шаге {номер шага прогона} в уроке «{урок}» проекта «{проект}»

## [x] Папки проектов

- Добавляем сущность `Folder`
  - У нее есть только имя `name`
- Папки все одного уровня, нет вложенности
- Все проекты хранятся в папках
  - У проекта добавлем атрибут `folder_id`
  - Нужно миграцией делать первую папку «Проекты» и все существующие проекты прописывать в нее

- В заголовке страницы меняем кнопку «Добавить проект» на «Добавить папку»
  - Иконка на кнопке:
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
    </svg>
  - При клике открываем модал добавления папки
    - Для папки задаем только имя
- Папки и вложенные проекты показываем гармошкой
  - При клике на папку под ней разворачивается таблица со списком проектов в папке
  - При повторном клике таблица сворачивается
  - Если кликнуть на другую папку, то текущая закрывается, а новая открывается
- Отображение строки папки
  - Иконка
    - Открытая папка:
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776" />
        </svg>
    - Закрытая папка:
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
      </svg>
  - Название
  - Проектов: N
  - Выключка вправо
    - Ссылка «Изменить»
      - При клике открывается модал редактирования названия папки
    - Кнопка «Добавить проект» без иконки, поменьше
      - При клике открывается старый модал добавления проекта
      - В модале заголовок: Добавить проект в «{название папки}»
- Отображение таблицы проектов папки
  - Шаблон table-stacked-on-mobile из $twui
  - Колонки
    - Иконка перетаскивания (6 точек в 2 колонки)
    - Название
    - Уроки (количество уроков)
      - Стакается на мобильном в надпись «Уроков: N»
      - Помни, что mobile у нас считается до размера md, а не sm 
    - Длительность 
      - Стакается на мобильном в надпись «Длительность: N»
  - При клике на строку проекта открывается страница проекта
- Перетаскивание проекта в другую папку
  - Любой проект в открытой папке можно перетаскивать за иконку перетаскивания
  - При перетаскивании «тащится» только иконка и название проекта, строку проекта в таблице не надо скрывать
  - Перетащить можно на строку любой закрытой папки
  - При успешном перетаскивании проект сохраняется в той папке
